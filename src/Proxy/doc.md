## 定义

为一个对象提供一个代用品或占位符，以便控制对它的访问。

代理模式的关键是，当客户不方便直接访问一个对象或者不满足徐亚的时候，提供一个替身对象来控制对这个对象的访问，客户访问的是替身对象。替身对象对请求作出一些处理之后，再把请求转交给本体对象。

代理模式要突出“代理”的含义，该模式场景需要三类角色，分别为使用者，目标对象和代理者，使用者的目的是访问目标对象，但却不能直接访问，而是先要通过代理者，（类比明星代理人）。特点是

- 使用者无权访问目标对象
- 中间加代理，通过代理来做授权和控制

## 实现

### 保护代理

在代理中将请求拒绝掉，只有符合要求的请求才会交给目标对象处理

### 虚拟代理

将一些开销很大的操作延迟到真正需要它的时候才去创建，也可以理解为在代理中做一些逻辑优化，而不是直接对目标对象进行处理

### 缓存代理

为一些开销大的运算结果提供暂时存储，在下次运算时，如果传递进来的参数和之前一致，可以直接返回前面存储的运算结果

## 使用场景

面临一些很大开销的操作，可以采用虚拟代理的方式延迟到需要它的时候再去创建，比如懒加载。

或者不方便让使用者直接访问目标对象时候，可以考虑代理模式
